<div *ngIf="isLoading" class="text-center py-8">Cargando detalles del modelo...</div>
<div *ngIf="errorMessage" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
  <strong class="font-bold">Error: </strong>
  <span class="block sm:inline">{{ errorMessage }}</span>
</div>

<div *ngIf="modelDetails && !isLoading" class="grid grid-cols-1 lg:grid-cols-2 gap-8">
  <!-- Columna de Metadatos -->
  <div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4 border-b pb-2">Metadatos del Modelo</h2>
    <div class="space-y-3 text-gray-700">
      <div class="flex justify-between">
        <span class="font-medium">Tipo de Modelo:</span>
        <span>{{ modelDetails.model_type }}</span>
      </div>
      <div class="flex justify-between">
        <span class="font-medium">Rango de Datos de Entrenamiento:</span>
        <span>{{ modelDetails.training_data_range }}</span>
      </div>
      <div class="flex justify-between">
        <span class="font-medium">Variable Objetivo:</span>
        <span class="text-right">{{ modelDetails.target_variable }}</span>
      </div>
      <div class="flex justify-between">
        <span class="font-medium">Total de Afiliaciones:</span>
        <span>{{ modelDetails.total_affiliations }}</span>
      </div>
      
      <div class="pt-4 mt-4 border-t">
        <h3 class="text-lg font-semibold mb-2">Métricas de Rendimiento</h3>
        <div class="flex justify-between">
          <span class="font-medium">Error Absoluto Medio (MAE):</span>
          <span>{{ modelDetails.performance_metrics.mae | number:'1.2-2' }}</span>
        </div>
        <div class="flex justify-between">
          <span class="font-medium">Raíz del Error Cuadrático Medio (RMSE):</span>
          <span>{{ modelDetails.performance_metrics.rmse | number:'1.2-2' }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Columna del Gráfico -->
  <div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">Importancia de Características del Modelo</h2>
    <div class="h-96">
      <canvas #featuresChart></canvas>
    </div>
  </div>
</div>
