<nav class="bg-primary_tailwind bg-custom shadow-lg">
  <div class="container mx-auto max-w-screen-xl">
    <div class="flex items-center justify-between p-4">
      <!-- Logo Section -->
      <a href="/home" class="flex items-center space-x-3 group">
        <img src="/assets/logo.svg" 
             class="h-10 md:h-12 bg-white/10 backdrop-blur-sm rounded-full p-1.5 transition-all duration-300 group-hover:scale-105 group-hover:bg-white/20" 
             alt="Centinela Logo" />
        <span class="text-xl md:text-3xl font-light text-white tracking-wide transition-colors group-hover:text-blue-100">
          Centinela
        </span>
      </a>
      
      <!-- Mobile Menu Button -->
      <button (click)="toggleNav()" 
              class="md:hidden text-white p-2.5 rounded-lg hover:bg-white/10 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/30">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                [attr.d]="navOpen ? 'M6 18L18 6M6 6l12 12' : 'M4 6h16M4 12h16m-7 6h7'"></path>
        </svg>
      </button>
    </div>
  </div>
</nav>
<nav [ngClass]="{'hidden': !navOpen, 'block': navOpen, 'md:flex': true}" 
     class="bg-white/95 backdrop-blur-md border-t border-white/20 shadow-sm">
  <div class="container mx-auto max-w-screen-xl px-4 py-3">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0">
      
      <!-- Left Navigation Items -->
      <div class="flex flex-col md:flex-row md:items-center md:space-x-1">
        <!-- Home -->
        <div class="nav-item">
          <a routerLink="/home" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
            </svg>
            <span>Home</span>
          </a>
        </div>

        <!-- Feeds (New) -->
        <div class="nav-item" *ngIf="!showLogin">
          <a routerLink="/feeds" routerLinkActive="active" class="nav-link" (click)="navigateToFeeds()">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>
            </svg>
            <span>Feeds</span>
          </a>
        </div>

        <!-- Job Posting (New) -->
        <div class="nav-item" *ngIf="!showLogin">
          <a routerLink="/jobs" routerLinkActive="active" class="nav-link" (click)="navigateToJobs()">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6M8 6a2 2 0 012-2h4a2 2 0 012 2v6a2 2 0 01-2 2H10a2 2 0 01-2-2V6z"/>
            </svg>
            <span>Jobs</span>
          </a>
        </div>

        <!-- Analytics -->
        <div class="nav-item" *ngIf="showInformation">
          <a routerLink="./analitica" routerLinkActive="active" class="nav-link">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
            </svg>
            <span>Analytics</span>
          </a>
        </div>

        <!-- About -->
        <div class="nav-item" *ngIf="showInformation">
          <a routerLink="./about-us/getting-started" routerLinkActive="active" class="nav-link">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span>About</span>
          </a>
        </div>
      </div>      <!-- Search Bar (Center) -->
      <div class="search-container order-first md:order-none" (clickOutside)="closeSearch()" *ngIf="!showInformation">
        <div class="search-wrapper">
          <input type="text" 
                 [(ngModel)]="searchQuery" 
                 (focus)="openSearch()" 
                 (input)="filterUsers()"
                 placeholder="Search researchers..." 
                 class="search-input">
          <svg *ngIf="!searchQuery" class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
          </svg>
          
          <!-- Search Results Dropdown -->
          <div *ngIf="searchOpen && searchQuery && filteredUsers.length > 0"
               class="search-dropdown">
            <div *ngFor="let user of filteredUsers" class="search-result-item">
              <a [href]="generateUserGroupUrl(user.id)" target="_blank" class="search-result-link"
                 (click)="closeSearch()">
                <div class="user-avatar">
                  {{ user.first_name.charAt(0) }}{{ user.last_name.charAt(0) }}
                </div>
                <div class="user-info">
                  <p class="user-name">{{ user.first_name }} {{ user.last_name }}</p>
                  <p class="user-username">{{ user.username }}</p>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Navigation Items -->
      <div class="flex flex-col md:flex-row md:items-center md:space-x-3" 
           [ngClass]="{'md:ml-auto': showInformation}">
        <!-- Profile -->
        <div class="nav-item" *ngIf="!showLogin">
          <a class="nav-link cursor-pointer" (click)="profile()">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
            </svg>
            <span>Profile</span>
          </a>
        </div>

        <!-- Auth Buttons -->
        <div class="nav-item" *ngIf="!showLogin">
          <button class="btn-logout" (click)="logout()">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
            </svg>
            <span>Logout</span>
          </button>
        </div>

        <div class="nav-item auth-buttons" *ngIf="showLogin">
          <button class="btn-secondary" (click)="openRegister()">
            Sign Up
          </button>
          <button class="btn-primary" (click)="openLogin()">
            Log In
          </button>
        </div>
      </div>
    </div>
  </div>
</nav>